#character-status,
#enemy-rear .card-container,
#enemy-front .card-container,
#ally-front .card-container,
#ally-rear .card-container {
  display: flex; /* 横並びでスクロール可能に */
  overflow-x: auto; /* 横スクロールを有効化 */
  gap: 0%; /* 各カード間の間隔を調整 */
  /* background-color: #222; */
  scroll-behavior: smooth; /* スムーズスクロールを有効化 */
  font-size: 0.75rem; /* 名前の文字サイズを調整 */
}
#character-status{
  height: 13%;
}
.character-card {
  display: flex; /* アイコンとコンテンツを横並びに */
  background-color: #000; /* カード背景色 */
  border: 2px solid #fff;
  border-radius: 8px;
  padding: 1%; /* カード内の余白 */
  width: 32.5%; /* 横幅を画面の90%に */
  max-width: 32.5%; /* 大きすぎないように最大幅を制限 */
  min-width: 32.5%;
  box-sizing: border-box; /* パディングを含めてサイズ計算 */
  color: #fff;
  gap: 5%; /* アイコンと内容の間隔 */
  flex-shrink: 0; /* 横幅を固定し、横スクロール対応 */
}

.icon-container {
  display: flex;
  flex-direction: column; /* アイコンを縦に並べる */
  align-items: center;
  justify-content: center;
  width: 20%; /* カード全体の幅に対する割合 */
  gap: 2%; /* アイコン間の間隔 */
}

.icon-container img {
  width: 130%; /* アイコンが親要素に収まる */
  aspect-ratio: 1; /* 正方形を維持 */
  border-radius: 50%; /* 丸型アイコン */
  background-color: #fff; /* 仮の背景色 */
  object-fit: cover; /* アイコン画像を枠内にフィット */
}

.content-container {
  display: flex;
  flex-direction: column; /* 内容を縦に並べる */
  gap: 3%; /* 各内容間の間隔 */
  width: 75%; /* コンテンツ部分がアイコンに対して広め */
  height: 100%;
  font-family: "Georgia", serif;
}

.character-name {
  font-size: 0.8rem;
  font-weight: bold;
  color: #fff;
  text-align: left;
  height: 3em; /* 2行分の高さに固定 (1.5em × 2行) */
  line-height: 1.2em;
  overflow: hidden; /* 溢れた部分を非表示 */
  display: -webkit-box; /* 複数行で省略記号を付ける */
  -webkit-line-clamp: 2; /* 表示する行数を2行に制限 */
  -webkit-box-orient: vertical;
}

.status-container {
  display: flex;
  flex-direction: column; /* ステータスバーを縦に並べる */
  gap: 1%; /* 各ステータスバーの間隔 */
  height: 77%;
}

.status-bar {
  position: relative; /* ラベルと数値を重ねる基準を設定 */
  width: 100%; /* ゲージ全体の幅 */
  height: 34%; /* スマホでの見やすさを考慮した高さ */
}

.status-bar .bar-container {
  position: relative;
  width: 100%; /* ゲージ幅を親要素いっぱいに */
  height: 100%; /* ステータスバー全体を埋める */
  background-color: #444;
  border-radius: 5px;
  overflow: hidden;
}

.status-bar .bar-fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  border-radius: 5px;
}



.hp-bar-fill {
  background-color: #4caf50; /* 緑 */
  width: 80%; /* 仮の割合 */
}

.mp-bar-fill {
  background-color: #2196f3; /* 青 */
  width: 45%; /* 仮の割合 */
}

.st-bar-fill {
  background-color: #ffc107dc; /* 黄色 */
  width: 60%; /* 仮の割合 */
}

/* ラベルの位置調整（ゲージ内の左側に固定） */
.status-bar .label {
  position: absolute; /* ゲージ上に重ねる */
  top: 50%; /* 垂直方向の中央 */
  left: 5px; /* ゲージの左端に配置 */
  transform: translateY(-50%); /* 中央揃え */
  font-weight: bold;
  color: #fff;
  text-shadow: 1px 1px 2px #000; /* 背景と被らないよう影を付ける */
  pointer-events: none; /* ラベルのクリック無効化 */
  z-index: 5; /* ラベルを上に表示 */
}

/* 数値の位置調整（ゲージの右側に固定） */
.status-bar .value {
  position: absolute; /* ゲージ上に重ねる */
  top: 50%; /* 垂直方向の中央 */
  right: 5px; /* ゲージの右端に配置 */
  transform: translateY(-50%); /* 中央揃え */
  font-weight: bold;
  color: #fff;
  text-shadow: 1px 1px 2px #000; /* 背景と被らないよう影を付ける */
  pointer-events: none; /* 数値のクリック無効化 */
  font-size: 1.0em;
  z-index: 5; /* 数値を上に表示 */
}
/* ＝　バトル用　＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ */
/* バトル画面  ============================= */
/* 戦闘モーダル専用 */
#battle-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: none; /* 元の背景は設定しない */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
  z-index: 1050;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(3px); /* 背後をぼかす（必要に応じて） */
  overflow: hidden; /* 擬似要素がはみ出ないように */
}

#battle-modal::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url("/images/0.webp") center/cover no-repeat; /* 背景画像を設定 */
  opacity: 0.2; /* 透明度を設定 */
  z-index: -1; /* 背景として配置 */
}

#battle-modal.hidden {
  display: none;
}


/* 戦闘モーダル専用オーバーレイ */
#battle-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1049; /* モーダル本体の下に配置 */
}

/* その他の要素をロックするためのスタイル */
body.lock-scroll {
  overflow: hidden;
}
/* 戦闘表示全体 */
#battle-display {
  width: 100%; /* モーダル内の幅 */
  height: 45%; /* モーダル内の高さ */
  display: flex;
  /* 上から下に配置 */
  flex-direction: column;
  /* 全体を中央揃え */
  justify-content: center;
  align-items: center;
  /* background-color: #222; */
  overflow: hidden; /* コンテンツが溢れたら非表示 */
}

/* フィールドの配置 */
#battle-field {
    width: 100%; /* フィールド全体の幅 */
    height: 99%; /* フィールド全体の高さ 元100% */
    display: flex;
    flex-direction: column; /* 前衛・後衛を縦に並べる */
    justify-content: space-evenly; /* 各行を等間隔に配置 */
  }
  
  /* 各戦闘行（enemy-rear, ally-frontなど） */
  .battle-row {
    display: flex;
    justify-content: space-evenly; /* 各スロットを均等に配置 */
    align-items: center; /* 縦方向で中央揃え */
    height: 35%; /* 各行の高さ 35% */
    position: relative; /* 子要素を相対配置にする基準 */
    width: 100%;
    /* margin: 1%; */
    justify-content: center; /* 中央揃え */
  }
  
  /* カードコンテナ（各スロット） */
  .card-container {
    width: 100%; /* 各スロットの幅 */
    height: 100%; /* 各スロットの高さ */
    background-color: rgba(0, 0, 0, 0.6);
    border: 2px solid #fff;
    border-radius: 8px;
    display: flex;
    flex-direction: column; /* 縦方向に要素を並べる */
    justify-content: center; /* 中央揃え */
    align-items: center; /* 縦方向で中央揃え */
    text-align: center;
    color: white;
    font-size: 0.9rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  }
  
  /* 前衛と後衛の色分け */
  #enemy-rear .card-container,
  #ally-rear .card-container {
    background-color: rgba(100, 100, 255, 0.4); /* 後衛: 青系 */
  }
  
  #enemy-front .card-container,
  #ally-front .card-container {
    background-color: rgba(255, 100, 100, 0.4); /* 前衛: 赤系 */
  }
  .card-container .character-card {
    display: flex; /* アイコンとコンテンツを横並びに */
    background-color: rgba(0, 0, 0, 0.4);
    border: 2px solid #fff;
    border-radius: 8px;
    padding: 1%; /* カード内の余白 */
    max-width: 102%;
    min-width: 102%;
    box-sizing: border-box; /* パディングを含めてサイズ計算 */
    color: #fff;
    gap: 5%; /* アイコンと内容の間隔 */
    flex-shrink: 0; /* 横幅を固定し、横スクロール対応 */
    height: 102%;
  }


  /* 行動中のキャラクターカードの強調スタイル */
.active-character {
  border: 1px solid yellow; /* 強調するための黄色い枠線 */
  background-color: rgba(255, 255, 0, 0.3); /* 背景を黄色で薄くハイライト */
  box-shadow: 0 0 10px rgba(255, 255, 0, 0.7); /* 発光効果 */
   /* 動的なアニメーション */
  /* animation: pulse 1s infinite; */
}

@keyframes pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
  }
  50% {
    transform: scale(1.015);
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.9);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 5px rgba(255, 255, 0, 0.7);
  }
}

/* ============================================================== */

.blink {
  animation: blink-effect 1s ease-in-out infinite; /* 継続的なアニメーション */
  border-right: 2px solid white; /* 白い境界線 */
  box-shadow: 0 0 10px rgba(255, 0, 0, 0.8); /* 発光するような効果 */
  position: relative; /* オーバーレイ用に相対位置 */
  z-index: 1; /* 他の要素より前面に表示 */
}

@keyframes blink-effect {
  0% {
    transform: scaleX(1); /* 拡大前 */
    background-color: rgba(255, 0, 0, 0.8); /* 明るい赤 */
    border-right-color: white; /* 白い境界線 */
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.8); /* 赤い発光 */
  }
  50% {
    transform: scaleX(1.1); /* 少し拡大 */
    background-color: rgba(255, 255, 0, 0.8); /* 明るい黄色 */
    border-right-color: black; /* 黒い境界線 */
    box-shadow: 0 0 20px rgba(255, 255, 0, 0.8); /* 黄色い発光 */
  }
  100% {
    transform: scaleX(1); /* 元の大きさに戻る */
    background-color: rgba(255, 0, 0, 0.8); /* 明るい赤 */
    border-right-color: white; /* 白い境界線 */
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.8); /* 赤い発光 */
  }
}

/* ＝　 コマンドリスト　＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ */
/* スキル選択エリア全体のレイアウト設定 */
#battle-Technique-selection {
  display: flex;
  flex-direction: column; /* タブを上部に配置 */
  height: 111%;
}

/* タブの設定（上部配置） */
#Technique-tabs {
  display: flex;
  justify-content: space-around;
  align-items: center;
  background-color: #333;
  padding: 2%; /* パディングを%で設定 */
  border-bottom: 0.5% solid #555; /* ボーダーの太さを%で設定 */
}

#Technique-tabs .tab {
  flex: 1;
  text-align: center;
  padding: 2%; /* パディングを%で設定 */
  color: white;
  background-color: #444;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;
}

#Technique-tabs .tab:hover,
#Technique-tabs .tab.active {
  background-color: #666;
}

/* メインコンテンツ: 左にスキル一覧、右に詳細表示 */
.Technique-content {
  display: flex;
  flex: 1;
  height: 100%; /* 親要素の高さに合わせる */
  overflow: hidden;
  flex-direction: row; /* 横方向に配置 */
  gap: 0%; /* スキル一覧と詳細エリアの間隔 */
}

/* スキル一覧エリア（左側） */
.Technique-list-area {
  flex: 1.3; /* 左側の幅 */
  background-color: rgba(50, 50, 50, 0.9); /* 背景色の設定 */
  color: white;
  border: 2px solid #ffffff5d;
  border-right: 0.5% solid #555; /* ボーダーの太さを%で設定 */
  padding: 1%; /* パディングを%で設定 */
  height: 37%;
  overflow-y: auto;
}

.Technique-list-area .Technique-items {
  display: flex;
  flex-direction: column;
  gap: 2%; /* アイテム間の間隔を%で設定 */
}

.Technique-list-area .Technique-item {
  background-color: #333;
  padding: 2%; /* パディングを%で設定 */
  border: 0.5% solid #555; /* ボーダーの太さを%で設定 */
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
}

.Technique-list-area .Technique-item:hover {
  background-color: #444;
  transform: scale(1.02);
}

/* スキル詳細表示エリア（右側） */
.Technique-details-area {
  flex: 1.5; /* 右側の幅を少し広めに設定 */
  background-color: rgba(30, 30, 30, 0.9); /* 背景色の設定 */
  color: white;
  border: 2px solid #ffffff5d;
  padding: 1%; /* パディングを%で設定 */
  height: 37%;
  overflow-y: auto;
}
.Technique-detail {
  height: 100%;
}
/* スキル名を目立たせる設定 */
#Technique-name {
  font-size: 1.3rem; /* フォントサイズを大きく */
  font-weight: bold; /* 太字で目立たせる */
  text-align: center; /* 中央揃え */
  color: #ffcc00; /* ゴールドカラーで目立たせる */
  margin-bottom: 2%; /* 下部に余白を追加 */
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); /* テキストに影を付けて視認性向上 */
  position: relative; /* 位置を調整可能に */
  left: -6%; /* 左にずらす */
}

.Technique-details-area p {
  margin: 0.0% 0; /* 縦方向の余白を制御 */
  min-height: 19.5%;
}

.Technique-details-area #Technique-data {
  flex-grow: 1; /* 残りのスペースを使用 */
  min-height: 77%; /* 最低限の高さを確保 */
  overflow-y: auto; /* 縦スクロールを有効に */
}

.Technique-details-area #Technique-detail {
  display: flex;
  flex-direction: column;
  gap: 1%; /* 項目間の間隔を%で設定 */
  height: 36%;
}

.Technique-details-area .action-button:hover {
  background-color: #666;
}

/* スキル選択エリア全体の高さ設定 */
.Technique-selection-area {
  height: 45%; /* 全体の高さをUIに合わせる */
}

/* ボタンのスタイル変更 */
.Technique-details-area .action-button {
  margin-top: 1%; /* 上部マージンを%で設定 */
  padding: 3.5% 3%; /* ボタンの内側余白を%で設定 */
  font-size: 1.2rem; /* ボタン内テキストサイズを調整 */
  background-color: #444;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;
  width: 90%; /* ボタンの幅を%で指定 */
  align-self: center; /* ボタンを中央揃え */
}

.Technique-item.disabled {
  background-color: #f9f9f9; /* 無効化されたスキルの背景色 */
  color: #aaa; /* テキストも薄くする */
}

.action-button.disabled {
  background-color: #e0e0e0; /* 無効化されたボタンの背景色 */
  color: #999; /* テキストを薄くする */
  cursor: not-allowed; /* カーソルを禁止マークに */
}

/* =アビリティリスト ========================================================= */
#attack-stats {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 1.2rem;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
}

@keyframes increase-effect {
  0% {
    transform: scale(1);
    color: white;
  }
  50% {
    transform: scale(1.2);
    color: yellow;
  }
  100% {
    transform: scale(1);
    color: white;
  }
}

#total-power.animate {
  animation: increase-effect 0.3s ease-in-out;
}

#combo {
  display: flex; /* 横並びにする */
  gap: 2%; /* 要素間のスペース */
  padding: 1px;
  background-color: #f9f9f9; /* 背景色 */
  border: 1px solid #ccc; /* 境界線 */
  /* border-radius: 5px; */
}

.combo-Technique-item {
  /* 幅を30%に固定 */
  /* flex: 0 0 25%;  */
  
  width: 31%;
  height: 20px; /* 高さを固定 */
  font-size: 0.9em;
  padding: 5px 2px;
  background-color: #fff; /* スキル背景 */
  border: 1px solid #ddd; /* スキル境界線 */
  border-radius: 3px;
  text-align: center;
  white-space: nowrap; /* 文字を改行しない */
  overflow: hidden; /* 超えた文字を非表示 */
  text-overflow: ellipsis; /* 超えた文字の末尾に「...」を表示 */
}

.combo-Technique-item .combo-Technique-type {
  font-weight: bold; /* タイプを強調 */
  color: #333; /* タイプの色 */
}

.combo-Technique-item .combo-Technique-name {
  color: #555; /* スキル名の色 */
}

/* ====================================================== */